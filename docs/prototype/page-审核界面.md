# 审核界面 - 原型设计

> **页面路径**: `/audio/:id/review`
> **优先级**: P1
> **访问角色**: 审核员、项目管理员

---

## 页面布局

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│ 顶部工具栏                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────────────────┐ │
│ │ meeting001.mp3 | 1:23:45 | [▶播放] [⏸暂停] [⏹停止] [速度:1.0x▼] [🔊]         │ │
│ │ [上一段] [下一段] | A:[00:15.230] B:[00:45.670] | [取消循环]                   │ │
│ └─────────────────────────────────────────────────────────────────────────────────┘ │
├────────────────┬────────────────────────────────────────────────────────────────────┤
│                │  审核工具栏                                                         │
│  右侧面板      │  ┌──────────────────────────────────────────────────────────────┐  │
│  ┌──────────┐  │  │ [✅通过] [❌驳回] [问题标记] [查看对比] [导出]                │  │
│  │标注列表   │  │  └──────────────────────────────────────────────────────────────┘  │
│  ├──────────┤  │                                                                      │
│  │1. 00:15-  │  │  波形显示区（与标注界面相同）                                        │
│  │   00:45   │  │  ┌──────────────────────────────────────────────────────────────┐  │
│  │   大家好  │  │  │    [波形和标注显示]                                           │  │
│  │   ✅通过  │  │  │                                                              │  │
│  ├──────────┤  │  │                                                              │  │
│  │2. 00:46-  │  │  └──────────────────────────────────────────────────────────────┘  │
│  │   01:10   │  │                                                                      │
│  │   今天我...│  │  质量评分面板                                                        │
│  │   ⏸待审核 │  │  ┌──────────────────────────────────────────────────────────────┐  │
│  ├──────────┤  │  │  质量评分: 85/100                                              │  │
│  │问题标记   │  │  │  文本完整性: ████████████████████░░ 90%                      │  │
│  │1. 时间不准│  │  │  时间精度:   ████████████████░░░░░ 80%                       │  │
│  │   [查看]  │  │  │  标签覆盖率: ████████████████████░░ 90%                      │  │
│  │2. 文本错误│  │  │  一致性:     ████████████░░░░░░░░░ 70%                       │  │
│  │   [查看]  │  │  └──────────────────────────────────────────────────────────────┘  │
│  ├──────────┤  │                                                                      │
│  │审核历史   │  │  驳回原因面板（驳回时显示）                                         │
│  │[审核记录] │  │  ┌──────────────────────────────────────────────────────────────┐  │
│  └──────────┘  │  │  驳回原因:                                                      │  │
│                │  │  [内容错误 ▼]                                                  │  │
│                │  │  ┌──────────────────────────────────────────────────────────┐  │  │
│                │  │  │ 请输入驳回原因...                                         │  │  │
│                │  │  │                                                          │  │  │
│                │  │  └──────────────────────────────────────────────────────────┘  │  │
│                │  │  问题标记位置:                                                  │  │
│                │  │  [点击波形标记问题位置]                                        │  │
│                │  │                                                              │  │
│                │  │  [取消]                    [确认驳回]                        │  │
│                │  └──────────────────────────────────────────────────────────────┘  │
│                │                                                                      │
└────────────────┴──────────────────────────────────────────────────────────────────────┘
```

---

## 组件清单

| 组件名称 | 类型 | 数量 | 说明 |
|---------|------|------|------|
| 顶部工具栏 | Toolbar | 1 | 播放控制 |
| 审核工具栏 | Toolbar | 1 | 审核操作 |
| 波形显示区 | Waveform | 1 | 音频波形和标注 |
| 标注列表 | List | 1 | 标注列表 |
| 质量评分面板 | Score | 1 | 显示质量评分 |
| 驳回原因面板 | Form | 1 | 驳回时显示 |
| 问题标记 | List | 1 | 问题标记列表 |
| 审核历史 | Timeline | 1 | 审核记录 |

---

## 组件详细说明

### 1. 审核工具栏

**按钮**:

| 按钮 | 类型 | 图标 | 功能 |
|------|------|------|------|
| 通过 | success | ✅ | 通过当前标注 |
| 驳回 | danger | ❌ | 驳回当前标注 |
| 问题标记 | warning | ⚠️ | 标记问题 |
| 查看对比 | default | 🔍 | 查看原音频对比 |
| 导出 | default | 📤 | 导出审核结果 |

**说明**:
- 通过/驳回按钮根据标注状态可用
- 点击驳回显示驳回原因面板

### 2. 标注列表（审核模式）

**显示内容**:
- 标注序号
- 时间区间
- 文本内容
- 审核状态

**审核状态**:

| 状态 | 图标 | 颜色 | 说明 |
|------|------|------|------|
| 待审核 | ⏸️ | 灰色 | 等待审核 |
| 已通过 | ✅ | 绿色 | 审核通过 |
| 已驳回 | ❌ | 红色 | 审核驳回 |

**交互**:
- 点击标注跳转到对应时间
- 点击通过/驳回按钮快速审核

### 3. 质量评分面板

**显示内容**:
- 总体评分（0-100）
- 各维度评分

**评分维度**:

| 维度 | 说明 | 满分 |
|------|------|------|
| 文本完整性 | 是否有未转写段落 | 100 |
| 时间精度 | 时间戳是否对齐 | 100 |
| 标签覆盖率 | 是否有缺失标签 | 100 |
| 一致性 | 与审核结果的匹配度 | 100 |

**样式**:
- 总体评分: 大字号，加粗
- 各维度: 进度条 + 百分比

**说明**:
- 低分维度高亮显示
- 点击维度查看详细评分

### 4. 驳回原因面板

**显示条件**: 点击"驳回"按钮

**字段**:

| 字段 | 类型 | 说明 |
|------|------|------|
| 驳回原因 | 下拉选择 | 内容错误、时间不准、标签错误、其他 |
| 详细说明 | 文本域 | 详细描述问题 |
| 问题位置 | 时间选择 | 点击波形选择问题位置 |

**问题类型**:

| 类型 | 说明 |
|------|------|
| 内容错误 | 转写内容错误 |
| 时间不准 | 时间区间不准确 |
| 标签错误 | 标签选择错误 |
| 其他 | 其他问题 |

**操作**:
- 点击波形标记问题位置
- 填写驳回原因
- 确认驳回

### 5. 问题标记列表

**显示内容**:
- 问题序号
- 问题类型
- 问题位置
- 问题描述
- 状态

**状态**:

| 状态 | 图标 | 颜色 |
|------|------|------|
| 待处理 | ⏸️ | 灰色 |
| 已处理 | ✅ | 绿色 |

**交互**:
- 点击问题跳转到对应位置
- 点击标记已处理

### 6. 审核历史

**显示内容**:
- 审核时间
- 审核人
- 审核结果
- 审核备注

**样式**:
- 时间轴布局
- 最新审核在顶部

---

## 交互说明

### 审核流程

1. 打开审核界面
2. 查看标注内容
3. 播放音频验证
4. 查看质量评分
5. 选择通过或驳回
6. （驳回时）填写驳回原因
7. 提交审核结果

### 快速审核

1. 在标注列表中点击"通过"按钮
2. 自动跳转到下一条标注
3. 重复操作完成批量审核

### 标记问题

1. 点击"问题标记"按钮
2. 在波形上点击选择问题位置
3. 选择问题类型
4. 填写问题描述
5. 保存问题标记

### 查看对比

1. 点击"查看对比"按钮
2. 打开对比面板
3. 显示原始音频和标注对比
4. 可以逐段对比验证

---

## 审核对比面板

### 对比布局

```
┌──────────────────────────────────────────────────────────────────┐
│  音频对比                                   [×]                   │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│  原始音频                                  标注音频               │
│  ┌──────────────────┐                    ┌──────────────────┐   │
│  │ [波形图]         │                    │ [波形图+标注]    │   │
│  │                  │                    │                  │   │
│  └──────────────────┘                    └──────────────────┘   │
│                                                                  │
│  差异分析                                                        │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │ 时间区间      原始内容          标注内容        差异       │   │
│  │ 00:15-00:45  大家好...        大家好...       无差异     │   │
│  │ 00:46-01:10  今天我们要...     今天我...      ⚠️内容差异 │   │
│  │ 01:11-01:30  讨论进度...      讨论进度...     无差异     │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
│  [关闭]                                                         │
└──────────────────────────────────────────────────────────────────┘
```

**功能**:
- 并排显示原始音频和标注音频
- 差异分析显示不一致的地方
- 点击差异跳转到对应位置

---

## 响应式设计

### 桌面端 (≥ 1024px)

- 右侧面板宽度: 320px
- 完整显示所有组件

### 平板端 (768px - 1023px)

- 右侧面板宽度: 280px
- 调整组件间距

### 手机端 (< 768px)

- 右侧面板折叠
- 审核工具栏改为图标

---

## 样式规范

### 字体

- 工具栏: PingFang SC, 14px
- 标注列表: PingFang SC, 14px
- 质量评分: PingFang SC, 14px

### 间距

- 工具栏高度: 56px
- 质量评分高度: 200px
- 驳回面板高度: 300px

### 颜色

- 通过色: `#67C23A`
- 驳回色: `#F56C6C`
- 警告色: `#E6A23C`
- 主色: `#409EFF`

---

## 浏览器兼容性

| 浏览器 | 版本要求 |
|--------|---------|
| Chrome | 90+ |
| Firefox | 88+ |
| Safari | 14+ |
| Edge | 90+ |

---

**原型设计完成**